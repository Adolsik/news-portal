{% extends 'base.html.twig' %}

{% block title %}Home
{% endblock %}

{% block body %}
	{# Navbar #}
	<nav class="border-gray-300 border-b-1 bg-[#1a1a1d] flex">
		<div class="flex items-start justify-start p-4 w-full">
			<a href="{{path('home')}}" class="flex items-center no-underline">
				<svg xmlns="http://www.w3.org/2000/svg" fill="white" viewbox="0 0 24 24" stroke-width="1.5" stroke="black" class="w-10 h-10 ">
					<path stroke-linecap="round" stroke-linejoin="round" d="M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h3v3H6v-3z"/>
				</svg>
				<span class="text-2xl font-medium dark:text-white p-2">News Portal</span>
			</a>
		</div>
		<div class='flex justify-end items-end w-full' id="navbar-default">
			{% if not is_granted('ROLE_USER') %}
				<ul class="font-medium text-xl flex flex-col p-4 md:p-0 mt-1 md:flex-row md:space-x-8 md:mt-0 md:border-0 bg-[#1a1a1d] dark:border-gray-700">
					<li>
						<a href="{{path('app_login')}}" class="no-underline block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent" aria-current="page">Sign in</a>
					</li>
					<li>
						<a href="{{path('app_register')}}" class="no-underline block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">Sign up</a>
					</li>
				</ul>
			{% endif %}
			{% if is_granted('ROLE_USER') %}
				<ul class="font-medium text-xl flex flex-col p-4 md:p-0 mt-1 md:flex-row md:space-x-8 md:mt-0 md:border-0 bg-[#1a1a1d] dark:border-gray-700">
					<li>
						<a href="" class="no-underline block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">Profile</a>
					</li>
					<a href="{{path('app_logout')}}" class="no-underline block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">Logout</a>
				</li>
			</ul>
		{% endif %}
	</div>
</nav>
{# Navbar end #}

{# side navbar #}
<div class='flex'>
<aside id="sidebar-multi-level-sidebar" class="z-40 w-64 hidden lg:flex" aria-label="Sidebar">
   <div class="min-h-screen pr-10 py-4 border-gray-300 border-t-2 bg-[#1a1a1d] justify-start flex">
      <ul class="space-y-2 font-medium">
         <li>
		 	{% if is_granted('ROLE_ADMIN')%}
			<li>
            <a href="{{path('news.create')}}" class="transition duration-150 no-underline flex items-center p-2 text-gray-900 rounded-lg hover:text-white dark:text-white hover:bg-sky-500 group">
               <svg xmlns="http://www.w3.org/2000/svg" class='w-6 h-6' fill="white" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  					<path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
				</svg>
               <span class="ml-3">Create news</span>
            </a>
         	</li>
			{% endif %}
            <button type="button" id='dropdownDefaultButton' class="hover:bg-sky-500 flex items-center w-full p-2 text-base text-gray-900 transition duration-150 rounded-lg group  dark:text-white" aria-hidden='true' data-dropdown-toggle="dropdown">
				  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="white" class="w-6 h-6">
  					 <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
				  </svg>
                  <span class="flex-1 m-2 text-xltext-left whitespace-nowrap">Categories</span>
                  <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                     <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
                  </svg>
            </button>
			<div id='dropdown' class='hidden'>
            <ul aria-labelledby="dropdownDefaultButton" class="py-2 space-y-2">
			 	<li>
                     <a href="{{path('home')}}" class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700 no-underline">All news</a>
                </li>
			{% for c in category %}
				 <li>
                     <a href="{{path('home_category',{'id':c.id})}}" class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700 no-underline">{{c.name}}</a>
                </li>
			{% endfor %}   
            </ul>
			</div>
         </li>
      </ul>
   </div>
</aside>
		{# content #}
		<div class="lg:flex lg:flex-wrap lg:ml-20">
			{% for n in news|reverse %}
				<div class='flex justify-center m-5'>
					<div class="card lg:w-[20vw]">
						<img src='{{'/news-portal/public/uploads/' ~ n.thumbnail}}' class="card-img-top" alt="thumbnail">
						<div class="card-body">
							<h5 class="card-title">{{n.title}}</h5>
							<p class="card-text">{{n.content|slice(0,155)}}...</p>
							<a href="{{path('news.show', {id: n.id})}}" class="btn btn-primary">Read more</a>
							{% if is_granted('ROLE_ADMIN')%}
							<a href="{{path('news.delete', {id: n.id})}}" class="btn btn-danger">Delete</a>
							{% endif %}
						</div>
						<div class="card-footer text-body-secondary">
							{{n.createdate.format('d/m/Y')}},
							{{n.category}}
						</div>
					</div>
				</div>
			{% endfor %}
		</div>
	</div>
</div>
</div>
{# sidenavbar ends #}{% endblock %}
